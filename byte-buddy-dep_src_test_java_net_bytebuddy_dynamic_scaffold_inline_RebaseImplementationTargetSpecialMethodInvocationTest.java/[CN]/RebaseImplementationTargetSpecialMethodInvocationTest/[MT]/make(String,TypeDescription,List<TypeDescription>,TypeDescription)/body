{
  MethodRebaseResolver.Resolution resolution=mock(MethodRebaseResolver.Resolution.class);
  when(resolution.getAdditionalArguments()).thenReturn(StackManipulation.LegalTrivial.INSTANCE);
  MethodDescription.InDeclaredForm methodDescription=mock(MethodDescription.InDeclaredForm.class);
  when(methodDescription.getInternalName()).thenReturn(name);
  when(methodDescription.getReturnType()).thenReturn(returnType);
  when(methodDescription.getParameters()).thenReturn(new ParameterList.Explicit.ForTypes(methodDescription,parameterTypes));
  TypeDescription declaringType=mock(TypeDescription.class);
  when(declaringType.asRawType()).thenReturn(declaringType);
  when(methodDescription.getDeclaringType()).thenReturn(declaringType);
  when(methodDescription.asDeclared()).thenReturn(methodDescription);
  when(resolution.getResolvedMethod()).thenReturn(methodDescription);
  return new RebaseImplementationTarget.RebasedMethodSpecialMethodInvocation(resolution,targetType);
}
