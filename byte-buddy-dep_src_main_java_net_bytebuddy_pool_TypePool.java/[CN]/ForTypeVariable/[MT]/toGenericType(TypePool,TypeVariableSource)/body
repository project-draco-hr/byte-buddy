{
  do {
    GenericTypeList typeVariables=typeVariableSource.getTypeVariables().filter(named(name));
    if (!typeVariables.isEmpty()) {
      return typeVariables.getOnly();
    }
    typeVariableSource=typeVariableSource.getEnclosingSource();
  }
 while (typeVariableSource != null);
  throw new IllegalStateException("Cannot resolve type variable: " + name);
}
