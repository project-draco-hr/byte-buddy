{
  Class<?> type=new ByteBuddy().redefine(FrameSample.class).visit(new AsmVisitorWrapper(){
    @Override public int mergeWriter(    int flags){
      return 0;
    }
    @Override public int mergeReader(    int flags){
      return flags | ClassReader.EXPAND_FRAMES | ClassReader.SKIP_DEBUG;
    }
    @Override public ClassVisitor wrap(    TypeDescription instrumentedType,    ClassVisitor classVisitor,    int writerFlags,    int readerFlags){
      return new TraceClassVisitor(classVisitor,new PrintWriter(System.out));
    }
  }
).make().load(null,ClassLoadingStrategy.Default.WRAPPER).getLoaded();
  assertThat(type.getDeclaredMethod(FOO,String.class).invoke(type.newInstance(),FOO),is((Object)FOO));
}
