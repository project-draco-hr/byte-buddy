{
  when(methodDescription.isStatic()).thenReturn(false);
  when(methodDescription.isDeclaredInInterface()).thenReturn(false);
  Assignment assignment=MethodInvocation.special(methodDescription);
  assertThat(assignment.isValid(),is(true));
  Assignment.Size size=assignment.apply(methodVisitor);
  assertThat(size.getSizeImpact(),is(RETURN_TYPE_SIZE.getSize() - methodStackSize));
  assertThat(size.getMaximalSize(),is(Math.max(0,RETURN_TYPE_SIZE.getSize() - methodStackSize)));
  verify(methodDescription,atLeast(1)).isStatic();
  verify(methodDescription,atLeast(1)).getStackSize();
  verify(methodDescription,atLeast(1)).getReturnType();
  verify(methodDescription,atLeast(1)).getInternalName();
  verify(methodDescription,atLeast(1)).getDeclaringType();
  verify(typeDescription,atLeast(1)).getInternalName();
  verify(methodDescription,atLeast(1)).getDescriptor();
  verify(methodVisitor).visitMethodInsn(Opcodes.INVOKESPECIAL,FOO,BAR,BAZ);
  verifyNoMoreInteractions(methodVisitor);
  verifyNoMoreInteractions(typeDescription);
  verify(returnTypeDescription,atLeast(1)).getStackSize();
  verifyNoMoreInteractions(returnTypeDescription);
}
