{
  for (  TypeDefinition currentType : instrumentedType) {
    FieldList<?> fieldList=currentType.getDeclaredFields().filter(named(fieldName).and(isVisibleTo(instrumentedType)));
    if (fieldList.size() > 1) {
      throw new IllegalStateException("Ambiguous fields: " + fieldList);
    }
 else     if (!fieldList.isEmpty() && (!staticMethod || fieldList.getOnly().isStatic())) {
      return new Resolution.Resolved(fieldList.getOnly());
    }
  }
  return new Resolution.Unresolved();
}
