{
  when(byteBuddy.redefine(typeDescription,classFileLocator)).thenReturn((DynamicType.Builder)dynamicTypeBuilder);
  when(dynamicTypeBuilder.ignoreAlso(ElementMatchers.not(isDeclaredBy(typeDescription)))).thenReturn((DynamicType.Builder)dynamicTypeBuilder);
  assertThat(AgentBuilder.TypeStrategy.Default.REDEFINE_DECLARED_ONLY.builder(typeDescription,byteBuddy,classFileLocator,methodNameTransformer),is((DynamicType.Builder)dynamicTypeBuilder));
  verify(byteBuddy).redefine(typeDescription,classFileLocator);
  verifyNoMoreInteractions(byteBuddy);
  verify(dynamicTypeBuilder).ignoreAlso(ElementMatchers.not(isDeclaredBy(typeDescription)));
  verifyNoMoreInteractions(dynamicTypeBuilder);
}
