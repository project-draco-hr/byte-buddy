{
  try {
    ClassFileLocator.Resolution resolution=classFileLocator.locate(originalType.getName());
    if (!resolution.isResolved()) {
      throw new IllegalArgumentException("Cannot locate the class file for " + originalType + " using "+ classFileLocator);
    }
    return doCreate(implementationContext,resolution.resolve());
  }
 catch (  IOException exception) {
    throw new RuntimeException("The class file could not be written",exception);
  }
}
