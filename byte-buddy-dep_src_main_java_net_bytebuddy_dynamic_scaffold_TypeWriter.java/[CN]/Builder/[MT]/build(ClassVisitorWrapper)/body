{
  ClassWriter classWriter=new ClassWriter(ASM_MANUAL_FLAG);
  ClassVisitor classVisitor=classVisitorWrapper.wrap(classWriter);
  classVisitor.visit(classFileVersion.getVersionNumber(),instrumentedType.getModifiers(),instrumentedType.getInternalName(),null,instrumentedType.getSupertype() == null ? null : instrumentedType.getSupertype().getInternalName(),instrumentedType.getInterfaces().toInternalNames());
  return new GeneralPhaseTypeWriter<T>(classWriter,classVisitor);
}
