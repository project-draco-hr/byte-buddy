{
  if (componentType.isPrimitive()) {
    if (componentType == boolean.class) {
      return ArrayCreator.Primitive.BOOLEAN;
    }
 else     if (componentType == byte.class) {
      return ArrayCreator.Primitive.BYTE;
    }
 else     if (componentType == short.class) {
      return ArrayCreator.Primitive.SHORT;
    }
 else     if (componentType == char.class) {
      return ArrayCreator.Primitive.CHARACTER;
    }
 else     if (componentType == int.class) {
      return ArrayCreator.Primitive.INTEGER;
    }
 else     if (componentType == long.class) {
      return ArrayCreator.Primitive.LONG;
    }
 else     if (componentType == float.class) {
      return ArrayCreator.Primitive.FLOAT;
    }
 else     if (componentType == double.class) {
      return ArrayCreator.Primitive.DOUBLE;
    }
 else {
      throw new IllegalArgumentException("Cannot create array of type " + componentType);
    }
  }
 else {
    return new ArrayCreator.Reference(componentType);
  }
}
