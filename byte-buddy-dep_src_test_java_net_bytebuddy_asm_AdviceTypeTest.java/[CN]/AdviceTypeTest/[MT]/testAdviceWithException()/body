{
  Class<?> type=new ByteBuddy().redefine(advice).visit(Advice.withCustomMapping().bind(CustomAnnotation.class,new Advice.DynamicValue.ForFixedValue<CustomAnnotation>((Serializable)value)).to(advice).on(named(BAR))).make().load(ClassLoadingStrategy.BOOTSTRAP_LOADER,ClassLoadingStrategy.Default.WRAPPER).getLoaded();
  type.getDeclaredField(exception).set(null,true);
  try {
    assertThat(type.getDeclaredMethod(BAR,this.type,this.type).invoke(type.newInstance(),value,value),is(value));
    fail();
  }
 catch (  InvocationTargetException exception) {
    assertThat(exception.getCause(),instanceOf(RuntimeException.class));
  }
  assertThat(type.getDeclaredField(ENTER).get(null),is((Object)1));
  assertThat(type.getDeclaredField(EXIT).get(null),is((Object)1));
}
