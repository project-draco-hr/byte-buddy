{
  if (change == 1) {
    current.add(StackSize.SINGLE);
  }
 else   if (change == 2) {
    current.add(StackSize.DOUBLE);
  }
 else   if (change > 2) {
    throw new IllegalStateException("Cannot push multiple values onto the operand stack: " + change);
  }
 else {
    while (change < 0) {
      if (current.isEmpty()) {
        return;
      }
      change+=current.remove(current.size() - 1).getSize();
    }
    if (change == 1) {
      current.add(StackSize.SINGLE);
    }
 else     if (change != 0) {
      throw new IllegalStateException("Unexpected remainder on the operand stack: " + change);
    }
  }
}
