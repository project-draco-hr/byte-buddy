{
  when(stackManipulation.isValid()).thenReturn(true);
  InstrumentedType.TypeInitializer typeInitializer=new InstrumentedType.TypeInitializer.Simple(stackManipulation);
  assertThat(typeInitializer.isDefined(),is(true));
  assertThat(typeInitializer.isValid(),is(true));
  verify(stackManipulation).isValid();
  typeInitializer.apply(methodVisitor,instrumentationContext);
  verify(stackManipulation).apply(methodVisitor,instrumentationContext);
  verifyZeroInteractions(stackManipulation);
  verifyZeroInteractions(instrumentationContext);
}
