{
  if (FIND_LOADED_CLASS_METHOD == null || LOAD_BYTE_ARRAY_METHOD == null) {
    throw new IllegalStateException("Could not initialize class loader injector",EXCEPTION);
  }
  try {
synchronized (classLoader) {
      Class<?> type=(Class<?>)FIND_LOADED_CLASS_METHOD.invoke(classLoader,name);
      if (type != null) {
        return type;
      }
 else {
        return (Class<?>)LOAD_BYTE_ARRAY_METHOD.invoke(classLoader,name,binaryRepresentation,0,binaryRepresentation.length);
      }
    }
  }
 catch (  IllegalAccessException e) {
    throw new IllegalStateException("Could not access injection method",e);
  }
catch (  InvocationTargetException e) {
    throw new IllegalStateException("Exception on invoking loader method",e.getCause());
  }
}
