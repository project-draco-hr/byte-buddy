{
  StackManipulation assignment=assigner.assign(fixedValueType,instrumentedMethod.getReturnType(),considerRuntimeType);
  if (!assignment.isValid()) {
    throw new IllegalArgumentException("Cannot return value of type " + fixedValueType + " for "+ instrumentedMethod);
  }
  StackManipulation.Size stackSize=new StackManipulation.Compound(valueLoadingInstruction,assignment,MethodReturn.returning(instrumentedMethod.getReturnType())).apply(methodVisitor,instrumentationContext);
  return new ByteCodeAppender.Size(stackSize.getMaximalSize(),instrumentedMethod.getStackSize());
}
