{
  Set<Instrumentation> instrumentations=new HashSet<Instrumentation>(entries.size());
  for (  Entry entry : entries) {
    if (instrumentations.add(entry.instrumentation)) {
      MethodList beforePreparation=instrumentedType.getDeclaredMethods();
      instrumentedType=entry.instrumentation.prepare(instrumentedType);
      if (beforePreparation.size() < instrumentedType.getDeclaredMethods().size()) {
        additionalEntries.add(new Entry(new ListDifferenceMethodMatcher(beforePreparation,instrumentedType.getDeclaredMethods()),entry.instrumentation,MethodAttributeAppender.NoOp.INSTANCE));
      }
    }
  }
  return instrumentedType;
}
