{
  ByteBuddyAgent.installOnOpenJDK();
  FooReloading foo=new FooReloading();
  new ByteBuddy().redefine(BarReloading.class).name(FooReloading.class.getName()).make().load(FooReloading.class.getClassLoader(),ClassReloadingStrategy.fromInstalledAgent());
  assertThat(foo.m(),is("bar"));
  ClassReloadingStrategy.fromInstalledAgent().reset(FooReloading.class);
  assertThat(foo.m(),is("foo"));
}
