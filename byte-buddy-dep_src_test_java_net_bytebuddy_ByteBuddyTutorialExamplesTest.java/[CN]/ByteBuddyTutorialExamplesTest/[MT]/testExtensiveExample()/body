{
  Class<? extends Comparator> dynamicType=new ByteBuddy().subclass(Comparator.class).method(named("compare")).intercept(MethodDelegation.to(new ComparisonInterceptor())).make().load(getClass().getClassLoader(),ClassLoadingStrategy.Default.WRAPPER).getLoaded();
  assertThat(dynamicType.newInstance().compare(3,1),is(2));
}
