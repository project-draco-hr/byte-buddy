{
  TypeDescription referenceTypeDescription=mock(TypeDescription.class);
  Assignment primitiveAssignment=PrimitiveUnboxingDelegate.forReferenceType(referenceTypeDescription).assignUnboxedTo(primitiveTypeDescription,chainedAssigner,true);
  assertThat(primitiveAssignment.isValid(),is(true));
  Assignment.Size size=primitiveAssignment.apply(methodVisitor);
  assertThat(size.getSizeImpact(),is(sizeChange));
  assertThat(size.getMaximalSize(),is(sizeChange));
  verify(methodVisitor).visitMethodInsn(Opcodes.INVOKEVIRTUAL,wrapperTypeDescription.getInternalName(),unboxingMethodName,unboxingMethodDescriptor);
  verifyNoMoreInteractions(methodVisitor);
  verify(chainedAssigner).assign(referenceTypeDescription,new TypeDescription.ForLoadedType(wrapperType),true);
  verifyNoMoreInteractions(chainedAssigner);
  verify(assignment,atLeast(1)).isValid();
  verify(assignment).apply(methodVisitor);
  verifyNoMoreInteractions(assignment);
}
