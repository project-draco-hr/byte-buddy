{
  FieldLocator.Resolution resolution=fieldLocator(instrumentedMethod.getDeclaringType()).locate(name);
  if (!resolution.isResolved()) {
    throw new IllegalStateException("Cannot locate field named " + name + " for "+ instrumentedMethod);
  }
 else   if (!resolution.getFieldDescription().getType().asErasure().isAssignableTo(targetType)) {
    throw new IllegalStateException("Cannot assign type of field " + resolution.getFieldDescription() + " to "+ targetType);
  }
 else   if (!resolution.getFieldDescription().isStatic() && instrumentedMethod.isStatic()) {
    throw new IllegalStateException("Cannot read non-static field " + resolution.getFieldDescription() + " from static method "+ instrumentedMethod);
  }
  return new Target.ForField(resolution.getFieldDescription());
}
