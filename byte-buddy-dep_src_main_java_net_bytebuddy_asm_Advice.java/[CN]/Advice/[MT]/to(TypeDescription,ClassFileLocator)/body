{
  try {
    Dispatcher methodEnter=Dispatcher.Inactive.INSTANCE, methodExit=Dispatcher.Inactive.INSTANCE;
    for (    MethodDescription.InDefinedShape methodDescription : typeDescription.getDeclaredMethods()) {
      methodEnter=resolve(OnMethodEnter.class,methodEnter,methodDescription);
      methodExit=resolve(OnMethodExit.class,methodExit,methodDescription);
    }
    if (!methodEnter.isActive() && !methodExit.isActive()) {
      throw new IllegalArgumentException("No advice defined by " + typeDescription);
    }
    return new Advice(methodEnter,methodExit.asExitFrom(methodEnter),classFileLocator.locate(typeDescription.getName()).resolve());
  }
 catch (  IOException exception) {
    throw new IllegalStateException("Error reading class file of " + typeDescription,exception);
  }
}
