{
  for (  GenericTypeDescription currentType : instrumentedType) {
    FieldList<?> fieldList=currentType.getDeclaredFields().filter(named(name).and(isVisibleTo(instrumentedType)));
    if (!fieldList.isEmpty() && (!staticMethod || fieldList.getOnly().isStatic())) {
      return fieldList.getOnly();
    }
  }
  throw new IllegalArgumentException("There is no field '" + name + " that is visible to "+ instrumentedType);
}
