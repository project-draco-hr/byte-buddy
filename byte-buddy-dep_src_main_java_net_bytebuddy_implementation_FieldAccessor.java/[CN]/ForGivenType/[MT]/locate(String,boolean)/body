{
  FieldList<?> fieldList=targetType.getDeclaredFields().filter(named(name).and(isVisibleTo(instrumentedType)));
  if (fieldList.size() > 1) {
    throw new IllegalStateException("Ambiguous fields named '" + name + "' "+ fieldList);
  }
 else   if (fieldList.isEmpty() || (staticMethod && !fieldList.getOnly().isStatic())) {
    throw new IllegalArgumentException("No field named " + name + " on "+ targetType+ " is visible to "+ instrumentedType);
  }
  return fieldList.getOnly();
}
