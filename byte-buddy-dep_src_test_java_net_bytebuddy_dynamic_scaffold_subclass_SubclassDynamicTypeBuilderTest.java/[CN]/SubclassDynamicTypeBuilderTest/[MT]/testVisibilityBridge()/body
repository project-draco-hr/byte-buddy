{
  Class<?> type=new ByteBuddy().subclass(VisibilityBridge.class).make().load(getClass().getClassLoader(),ClassLoadingStrategy.Default.INJECTION).getLoaded();
  assertThat(type.getDeclaredConstructors().length,is(1));
  assertThat(type.getDeclaredMethods().length,is(1));
  Method method=type.getDeclaredMethod(FOO);
  assertThat(method.isBridge(),is(true));
  assertThat(method.getDeclaredAnnotations().length,is(1));
  assertThat(method.getAnnotation(Foo.class),notNullValue(Foo.class));
  assertThat(method.invoke(type.newInstance()),is((Object)FOO));
}
