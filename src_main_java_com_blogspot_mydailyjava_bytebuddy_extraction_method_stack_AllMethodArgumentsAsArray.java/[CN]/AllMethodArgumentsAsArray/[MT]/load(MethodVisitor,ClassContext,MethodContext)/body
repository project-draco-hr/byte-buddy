{
  methodVisitor.visitIntInsn(Opcodes.BIPUSH,methodContext.getType().getArgumentTypes().length);
  methodVisitor.visitTypeInsn(Opcodes.ANEWARRAY,arrayTypeName);
  int currentMaximumOperandStackSize=1;
  int currentLocalVariableIndex=1, currentArrayIndex=0;
  for (  Type argumentType : methodContext.getType().getArgumentTypes()) {
    methodVisitor.visitInsn(Opcodes.DUP);
    methodVisitor.visitIntInsn(Opcodes.BIPUSH,currentArrayIndex++);
    methodVisitor.visitIntInsn(argumentType.getOpcode(Opcodes.ALOAD),currentLocalVariableIndex);
    methodVisitor.visitInsn(Opcodes.AASTORE);
    currentLocalVariableIndex+=argumentType.getSize();
    currentMaximumOperandStackSize=Math.max(currentMaximumOperandStackSize,argumentType.getSize() + 3);
  }
  return new Size(1,currentMaximumOperandStackSize);
}
