{
  ClassWriter classWriter=new ClassWriter(ASM_MANUAL);
  ClassVisitor classVisitor=classVisitorWrapperChain.wrap(classWriter);
  InstrumentedType instrumentedType=new SubclassLoadedTypeInstrumentation(classVersion,superType,interfaceTypes,modifiers,namingStrategy);
  classVisitor.visit(classVersion.getVersionNumber(),instrumentedType.getModifiers(),instrumentedType.getInternalName(),null,instrumentedType.getSupertype().getInternalName(),instrumentedType.getInterfaces().toInternalNames());
  classVisitor.visitEnd();
  return new DynamicType.Default.Unloaded<T>(instrumentedType.getName(),classWriter.toByteArray(),Collections.<Instrumentation.ClassLoadingCallback>emptyList(),Collections.<DynamicType<?>>emptySet());
}
