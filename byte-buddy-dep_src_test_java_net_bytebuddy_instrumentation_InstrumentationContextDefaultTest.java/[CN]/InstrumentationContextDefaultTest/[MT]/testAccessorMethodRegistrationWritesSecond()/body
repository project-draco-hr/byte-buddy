{
  when(secondSpecialMethod.isStatic()).thenReturn(true);
  Instrumentation.Context.Default instrumentationContext=new Instrumentation.Context.Default(instrumentedType,typeInitializer,classFileVersion);
  MethodDescription secondMethodDescription=instrumentationContext.registerAccessorFor(secondSpecialInvocation);
  assertThat(instrumentationContext.registerAccessorFor(secondSpecialInvocation),is(secondMethodDescription));
  instrumentationContext.drain(classVisitor,methodPool,injectedCode);
  verify(classVisitor).visitMethod(eq(AuxiliaryType.MethodAccessorFactory.ACCESSOR_METHOD_MODIFIER | Opcodes.ACC_STATIC),Matchers.startsWith(BAR),eq("(" + BAR + ")"+ FOO),isNull(String.class),aryEq(new String[]{BAZ}));
  verify(methodVisitor).visitCode();
  verify(methodVisitor).visitInsn(MoreOpcodes.ALOAD_0);
  verify(secondSpecialInvocation).apply(methodVisitor,instrumentationContext);
  verify(methodVisitor).visitInsn(Opcodes.ARETURN);
  verify(methodVisitor).visitMaxs(1,0);
  verify(methodVisitor).visitEnd();
}
