{
  Instrumentation.Context.Default instrumentationContext=new Instrumentation.Context.Default(instrumentedType,classFileVersion);
  MethodDescription firstMethodDescription=instrumentationContext.registerGetterFor(firstField);
  assertThat(instrumentationContext.registerGetterFor(firstField),is(firstMethodDescription));
  instrumentationContext.drain(classVisitor,methodPool,injectedCode);
  verify(classVisitor).visitMethod(eq(AuxiliaryType.MethodAccessorFactory.ACCESSOR_METHOD_MODIFIER),Matchers.startsWith(FOO),eq("()" + BAR),isNull(String.class),isNull(String[].class));
  verify(methodVisitor).visitCode();
  verify(methodVisitor).visitInsn(MoreOpcodes.ALOAD_0);
  verify(methodVisitor).visitFieldInsn(Opcodes.GETFIELD,QUX,FOO,BAR);
  verify(methodVisitor).visitInsn(Opcodes.ARETURN);
  verify(methodVisitor).visitMaxs(1,1);
  verify(methodVisitor).visitEnd();
}
