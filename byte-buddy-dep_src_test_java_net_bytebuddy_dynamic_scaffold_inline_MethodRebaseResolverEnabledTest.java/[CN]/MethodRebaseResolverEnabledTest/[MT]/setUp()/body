{
  when(declaringType.asErasure()).thenReturn(declaringType);
  when(method.getDeclaringType()).thenReturn(declaringType);
  when(constructor.getDeclaringType()).thenReturn(declaringType);
  when(other.getDeclaringType()).thenReturn(declaringType);
  when(parameterType.getStackSize()).thenReturn(StackSize.ZERO);
  when(placeholderType.getStackSize()).thenReturn(StackSize.ZERO);
  Set<MethodDescription> methodDescriptions=new HashSet<MethodDescription>();
  methodDescriptions.add(method);
  methodDescriptions.add(constructor);
  methodRebaseResolver=new MethodRebaseResolver.Enabled(methodDescriptions,dynamicType,methodNameTransformer);
  when(dynamicType.getTypeDescription()).thenReturn(placeholderType);
  when(method.getInternalName()).thenReturn(FOO);
  when(method.getReturnType()).thenReturn(returnType);
  when(method.getParameters()).thenReturn(new ParameterList.Explicit.ForTypes(method,Collections.singletonList(parameterType)));
  when(constructor.isConstructor()).thenReturn(true);
  when(constructor.getInternalName()).thenReturn(FOO);
  when(constructor.getReturnType()).thenReturn(returnType);
  when(constructor.getParameters()).thenReturn(new ParameterList.Explicit.ForTypes(method,Collections.singletonList(parameterType)));
  when(methodNameTransformer.transform(method)).thenReturn(BAR);
  when(returnType.asErasure()).thenReturn(returnType);
  when(returnType.getSort()).thenReturn(GenericTypeDescription.Sort.NON_GENERIC);
  when(parameterType.asErasure()).thenReturn(parameterType);
  when(parameterType.accept(any(GenericTypeDescription.Visitor.class))).thenReturn(parameterType);
  when(placeholderType.asErasure()).thenReturn(placeholderType);
  when(placeholderType.accept(any(GenericTypeDescription.Visitor.class))).thenReturn(placeholderType);
}
