{
  Class<?> dynamicType=new ByteBuddy(ClassFileVersion.JAVA_V4).withClassVisitor(TypeConstantAdjustment.INSTANCE).subclass(Object.class).defineMethod(FOO,Object.class,Collections.<Class<?>>emptyList(),Visibility.PUBLIC).intercept(FixedValue.value(int.class)).make().load(null,ClassLoadingStrategy.Default.WRAPPER).getLoaded();
  assertThat(dynamicType.getDeclaredMethod(FOO).invoke(dynamicType.newInstance()),is((Object)int.class));
}
