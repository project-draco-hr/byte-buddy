{
  ClassLoader classLoader=new ByteArrayClassLoader(ClassLoadingStrategy.BOOTSTRAP_LOADER,ClassFileExtraction.of(EnclosingType.class),null,AccessController.getContext(),ByteArrayClassLoader.PersistenceHandler.LATENT,PackageDefinitionStrategy.NoOp.INSTANCE);
  Class<?> redefined=new ByteBuddy().redefine(EnclosingType.INNER).visit(new InnerClassValidator.Wrapper(EnclosingType.INNER,Opcodes.ACC_PUBLIC)).modifiers(Visibility.PUBLIC).make().load(classLoader,ClassLoadingStrategy.Default.INJECTION).getLoaded();
  assertThat(redefined.isAnonymousClass(),is(EnclosingType.INNER.isAnonymousClass()));
  assertThat(redefined.isLocalClass(),is(EnclosingType.INNER.isLocalClass()));
  assertThat(redefined.isMemberClass(),is(EnclosingType.INNER.isMemberClass()));
  assertThat(redefined.getModifiers(),is(Modifier.PUBLIC | EnclosingType.INNER.getModifiers()));
}
