{
  ClassLoader classLoader=new ByteArrayClassLoader(ClassLoadingStrategy.BOOTSTRAP_LOADER,ClassFileExtraction.of(EnclosingType.class),null,AccessController.getContext(),ByteArrayClassLoader.PersistenceHandler.LATENT,PackageDefinitionStrategy.NoOp.INSTANCE);
  Class<?> redefined=new ByteBuddy().redefine(EnclosingType.ANONYMOUS).visit(new InnerClassValidator.Wrapper(EnclosingType.ANONYMOUS,Opcodes.ACC_PUBLIC | Opcodes.ACC_STATIC)).modifiers(Visibility.PUBLIC).make().load(classLoader,ClassLoadingStrategy.Default.INJECTION).getLoaded();
  assertThat(redefined.isAnonymousClass(),is(EnclosingType.ANONYMOUS.isAnonymousClass()));
  assertThat(redefined.isLocalClass(),is(EnclosingType.ANONYMOUS.isLocalClass()));
  assertThat(redefined.isMemberClass(),is(EnclosingType.ANONYMOUS.isMemberClass()));
  assertThat(redefined.getModifiers(),is(Modifier.PUBLIC | EnclosingType.ANONYMOUS.getModifiers()));
}
