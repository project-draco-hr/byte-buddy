{
  if (findLoadedClassMethod == null || loadByteArrayMethod == null) {
    throw new IllegalStateException("Could not initialize class loader injector",exception);
  }
  try {
synchronized (classLoader) {
      Class<?> type=(Class<?>)findLoadedClassMethod.invoke(classLoader,name);
      if (type != null) {
        return type;
      }
 else {
        return (Class<?>)loadByteArrayMethod.invoke(classLoader,name,binaryRepresentation,0,binaryRepresentation.length);
      }
    }
  }
 catch (  IllegalAccessException e) {
    throw new IllegalStateException("Could not access injection method",e);
  }
catch (  InvocationTargetException e) {
    throw new IllegalStateException("Exception on invoking loader method",e.getCause());
  }
}
